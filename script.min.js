(function () { const sections = [ { id: 'services', href: '#services' }, { id: 'projects', href: '#projects' }, { id: 'industries', href: '#industries' }, { id: 'why-woodscape', href: '#why-woodscape' }, { id: 'case-studies', href: '#case-studies' }, ]; function setActive(href) { document.querySelectorAll('.nav-link').forEach(link => { link.classList.remove('active'); if (link.getAttribute('href') === href) { link.classList.add('active'); } }); } function checkHome() { const first = document.getElementById('services'); if (!first) return false; return window.scrollY < first.getBoundingClientRect().top + window.scrollY - 200; } const observer = new IntersectionObserver( (entries) => { entries.forEach(entry => { if (entry.isIntersecting) { const match = sections.find(s => s.id === entry.target.id); if (match) setActive(match.href); } }); }, { rootMargin: '-120px 0px -50% 0px', threshold: 0 } ); document.addEventListener('DOMContentLoaded', () => { sections.forEach(({ id }) => { const el = document.getElementById(id); if (el) observer.observe(el); }); window.addEventListener('scroll', () => { if (checkHome()) setActive('#'); }, { passive: true }); }); })(); function animateCounter(element, target, duration = 1500) { const start = 0; const increment = target / (duration / 16); let current = start; const suffix = element.textContent.replace(/[0-9]/g, '').trim(); const timer = setInterval(() => { current += increment; if (current >= target) { element.textContent = target + suffix; clearInterval(timer); } else { element.textContent = Math.floor(current) + suffix; } }, 16); } const observerOptions = { threshold: 0.5, rootMargin: '0px' }; const statsObserver = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { const statNumbers = entry.target.querySelectorAll('.stat-number'); statNumbers.forEach(stat => { if (!stat.classList.contains('stat-text')) { const target = parseInt(stat.getAttribute('data-target')); animateCounter(stat, target); } }); statsObserver.unobserve(entry.target); } }); }, observerOptions); document.addEventListener('DOMContentLoaded', () => { const statsSection = document.querySelector('.stats-section'); if (statsSection) { statsObserver.observe(statsSection); } const quoteForm = document.querySelector('.quote-form'); if (quoteForm) { quoteForm.addEventListener('submit', (e) => { e.preventDefault(); const formData = new FormData(quoteForm); const data = Object.fromEntries(formData); alert('Thank you for your quote request! We will get back to you soon.'); quoteForm.reset(); }); } const navbar = document.querySelector('.navbar'); const mobileBtn = document.querySelector('.mobile-menu-btn'); const navWrapper = document.querySelector('.nav-wrapper'); const navLinks = document.querySelectorAll('.nav-link'); if (mobileBtn) { mobileBtn.addEventListener('click', () => { mobileBtn.classList.toggle('active'); navWrapper.classList.toggle('active'); document.body.style.overflow = navWrapper.classList.contains('active') ? 'hidden' : ''; }); } navLinks.forEach(link => { link.addEventListener('click', (e) => { const href = link.getAttribute('href'); if (navWrapper && navWrapper.classList.contains('active')) { mobileBtn.classList.remove('active'); navWrapper.classList.remove('active'); document.body.style.overflow = ''; } if (href.startsWith('#')) { e.preventDefault(); const target = document.querySelector(href); if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'start' }); } } }); }); window.addEventListener('scroll', () => { const currentScroll = window.pageYOffset; if (currentScroll > 50) { navbar.classList.add('scrolled'); } else { navbar.classList.remove('scrolled'); } }); const formInputs = document.querySelectorAll('.form-input, .form-textarea'); formInputs.forEach(input => { input.addEventListener('focus', () => { input.parentElement.classList.add('focused'); }); input.addEventListener('blur', () => { if (!input.value) { input.parentElement.classList.remove('focused'); } }); }); const faqItems = document.querySelectorAll('.faq-item'); faqItems.forEach(item => { const question = item.querySelector('.faq-question'); question.addEventListener('click', () => { const isActive = item.classList.contains('active'); faqItems.forEach(faq => faq.classList.remove('active')); if (!isActive) { item.classList.add('active'); } }); }, 100); }); window.addEventListener('scroll', () => { const scrolled = window.pageYOffset; const hero = document.querySelector('.hero'); if (hero) { const activeSlide = hero.querySelector('.hero-slide.active'); if (activeSlide) { activeSlide.style.backgroundPositionY = scrolled * 0.5 + 'px'; } } }); document.addEventListener('DOMContentLoaded', () => { const slides = document.querySelectorAll('.hero-slide'); const indicators = document.querySelectorAll('.indicator'); let currentSlide = 0; let slideInterval; console.log('Slides found:', slides.length); console.log('Indicators found:', indicators.length); function showSlide(index) { console.log('Showing slide:', index); slides.forEach(slide => slide.classList.remove('active')); indicators.forEach(indicator => indicator.classList.remove('active')); slides[index].classList.add('active'); indicators[index].classList.add('active'); currentSlide = index; } function nextSlide() { let next = (currentSlide + 1) % slides.length; showSlide(next); } function startAutoPlay() { slideInterval = setInterval(nextSlide, 5000); } function resetAutoPlay() { clearInterval(slideInterval); startAutoPlay(); } indicators.forEach((indicator, index) => { indicator.addEventListener('click', () => { console.log('Indicator clicked:', index); showSlide(index); resetAutoPlay(); }); }); showSlide(0); startAutoPlay(); }); document.addEventListener('DOMContentLoaded', () => { const estimateBtn = document.getElementById('requestEstimateBtn'); const modalOverlay = document.getElementById('estimateModal'); const modalForm = document.getElementById('modalEstimateForm'); if (!estimateBtn || !modalOverlay) return; function openModal() { modalOverlay.classList.add('is-open'); document.body.style.overflow = 'hidden'; const focusable = modalOverlay.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'); if (focusable.length) focusable[0].focus(); } function closeModal() { modalOverlay.classList.remove('is-open'); document.body.style.overflow = ''; } estimateBtn.addEventListener('click', (e) => { e.preventDefault(); openModal(); }); modalOverlay.addEventListener('click', (e) => { if (e.target === modalOverlay) { closeModal(); } }); document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modalOverlay.classList.contains('is-open')) { closeModal(); } }); if (modalForm) { modalForm.addEventListener('submit', (e) => { e.preventDefault(); const formData = new FormData(modalForm); alert('Thank you for your consultation request! We will contact you shortly.'); console.log('Estimate Request:', Object.fromEntries(formData)); modalForm.reset(); closeModal(); }); } }); document.addEventListener('DOMContentLoaded', () => { const wrapper = document.getElementById('whyCarouselWrapper'); const track = document.getElementById('whyCarouselTrack'); const sTrack = document.getElementById('whyScrollTrack'); const sThumb = document.getElementById('whyScrollThumb'); if (!wrapper || !track || !sTrack || !sThumb) return; function updateThumb() { const scrollable = wrapper.scrollWidth - wrapper.clientWidth; if (scrollable <= 0) { sThumb.style.width = '100%'; return; } const ratio = wrapper.clientWidth / wrapper.scrollWidth; const thumbW = Math.max(60, sTrack.offsetWidth * ratio); sThumb.style.width = thumbW + 'px'; const scrollRatio = wrapper.scrollLeft / scrollable; sThumb.style.left = (scrollRatio * (sTrack.offsetWidth - thumbW)) + 'px'; } wrapper.addEventListener('scroll', updateThumb); window.addEventListener('resize', updateThumb); updateThumb(); let isDragging = false, startX = 0, startScroll = 0; wrapper.addEventListener('mousedown', (e) => { isDragging = true; startX = e.clientX; startScroll = wrapper.scrollLeft; wrapper.classList.add('is-dragging'); }); document.addEventListener('mousemove', (e) => { if (!isDragging) return; wrapper.scrollLeft = startScroll - (e.clientX - startX); }); document.addEventListener('mouseup', () => { isDragging = false; wrapper.classList.remove('is-dragging'); }); let thumbDragging = false, thumbStartX = 0, thumbStartScroll = 0; sThumb.addEventListener('mousedown', (e) => { e.preventDefault(); thumbDragging = true; thumbStartX = e.clientX; thumbStartScroll = wrapper.scrollLeft; sThumb.classList.add('is-dragging'); }); document.addEventListener('mousemove', (e) => { if (!thumbDragging) return; const scrollable = wrapper.scrollWidth - wrapper.clientWidth; const trackW = sTrack.offsetWidth - sThumb.offsetWidth; const delta = (e.clientX - thumbStartX) / trackW * scrollable; wrapper.scrollLeft = thumbStartScroll + delta; }); document.addEventListener('mouseup', () => { thumbDragging = false; sThumb.classList.remove('is-dragging'); }); sTrack.addEventListener('click', (e) => { if (e.target === sThumb) return; const rect = sTrack.getBoundingClientRect(); const ratio = (e.clientX - rect.left) / rect.width; wrapper.scrollLeft = ratio * (wrapper.scrollWidth - wrapper.clientWidth); }); let autoScrollInterval; const scrollStep = track.firstElementChild ? track.firstElementChild.offsetWidth + 24 : 410; function startAutoScroll() { autoScrollInterval = setInterval(() => { const maxScroll = wrapper.scrollWidth - wrapper.clientWidth; if (wrapper.scrollLeft >= maxScroll - 10) { wrapper.scrollTo({ left: 0, behavior: 'smooth' }); } else { wrapper.scrollBy({ left: scrollStep, behavior: 'smooth' }); } }, 3000); } function stopAutoScroll() { clearInterval(autoScrollInterval); } wrapper.addEventListener('mouseenter', stopAutoScroll); wrapper.addEventListener('mouseleave', startAutoScroll); startAutoScroll(); }); document.addEventListener('DOMContentLoaded', () => { const wrapper = document.getElementById('clientCarouselWrapper'); const sTrack = document.getElementById('clientScrollTrack'); const sThumb = document.getElementById('clientScrollThumb'); const muteBtn = document.getElementById('clientMuteBtn'); if (wrapper && sTrack && sThumb) { function updateThumb() { const scrollable = wrapper.scrollWidth - wrapper.clientWidth; if (scrollable <= 0) { sThumb.style.width = '100%'; return; } const ratio = wrapper.clientWidth / wrapper.scrollWidth; const thumbW = Math.max(60, sTrack.offsetWidth * ratio); sThumb.style.width = thumbW + 'px'; const scrollRatio = wrapper.scrollLeft / scrollable; sThumb.style.left = (scrollRatio * (sTrack.offsetWidth - thumbW)) + 'px'; } wrapper.addEventListener('scroll', updateThumb); window.addEventListener('resize', updateThumb); updateThumb(); let isDragging = false, startX = 0, startScroll = 0; wrapper.addEventListener('mousedown', (e) => { isDragging = true; startX = e.clientX; startScroll = wrapper.scrollLeft; wrapper.classList.add('is-dragging'); }); document.addEventListener('mousemove', (e) => { if (!isDragging) return; wrapper.scrollLeft = startScroll - (e.clientX - startX); }); document.addEventListener('mouseup', () => { isDragging = false; wrapper.classList.remove('is-dragging'); }); let thumbDragging = false, thumbStartX = 0, thumbStartScroll = 0; sThumb.addEventListener('mousedown', (e) => { e.preventDefault(); thumbDragging = true; thumbStartX = e.clientX; thumbStartScroll = wrapper.scrollLeft; sThumb.classList.add('is-dragging'); }); document.addEventListener('mousemove', (e) => { if (!thumbDragging) return; const scrollable = wrapper.scrollWidth - wrapper.clientWidth; const trackW = sTrack.offsetWidth - sThumb.offsetWidth; const delta = (e.clientX - thumbStartX) / trackW * scrollable; wrapper.scrollLeft = thumbStartScroll + delta; }); document.addEventListener('mouseup', () => { thumbDragging = false; sThumb.classList.remove('is-dragging'); }); sTrack.addEventListener('click', (e) => { if (e.target === sThumb) return; const rect = sTrack.getBoundingClientRect(); const ratio = (e.clientX - rect.left) / rect.width; wrapper.scrollLeft = ratio * (wrapper.scrollWidth - wrapper.clientWidth); }); let autoScrollInterval; const scrollStep = 450; function startAutoScroll() { autoScrollInterval = setInterval(() => { const maxScroll = wrapper.scrollWidth - wrapper.clientWidth; if (wrapper.scrollLeft >= maxScroll - 10) { wrapper.scrollTo({ left: 0, behavior: 'smooth' }); } else { wrapper.scrollBy({ left: scrollStep, behavior: 'smooth' }); } }, 3000); } function stopAutoScroll() { clearInterval(autoScrollInterval); } wrapper.addEventListener('mouseenter', stopAutoScroll); wrapper.addEventListener('mouseleave', startAutoScroll); startAutoScroll(); } const muteButtons = document.querySelectorAll('.client-video-mute-btn'); const videos = document.querySelectorAll('.client-video-card video'); if (muteButtons.length > 0 && videos.length > 0) { const iconMuted = ` <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon> <line x1="23" y1="9" x2="17" y2="15"></line> <line x1="17" y1="9" x2="23" y2="15"></line> </svg>`; const iconUnmuted = ` <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon> <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path> <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path> </svg>`; function updateButton(btn, isMuted) { btn.innerHTML = isMuted ? iconMuted : iconUnmuted; if (!isMuted) { btn.style.background = 'var(--primary-red)'; btn.style.borderColor = 'var(--primary-red)'; } else { btn.style.background = 'rgba(255, 255, 255, 0.2)'; btn.style.borderColor = 'rgba(255, 255, 255, 0.4)'; } } muteButtons.forEach((btn, index) => { const video = videos[index]; if (!video) return; updateButton(btn, true); btn.addEventListener('click', (e) => { e.stopPropagation(); const isNowMuted = !video.muted; if (!isNowMuted) { videos.forEach((v, i) => { if (i !== index && !v.muted) { v.muted = true; updateButton(muteButtons[i], true); } }); } video.muted = isNowMuted; updateButton(btn, isNowMuted); }); }); } }); document.addEventListener('DOMContentLoaded', () => { const revealCards = document.querySelectorAll('.reveal-card'); if (revealCards.length === 0) return; const revealObserver = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('revealed'); revealObserver.unobserve(entry.target); } }); }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' }); revealCards.forEach(card => { revealObserver.observe(card); }); }); document.addEventListener('DOMContentLoaded', () => { if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') { console.warn('GSAP or ScrollTrigger not found'); return; } gsap.registerPlugin(ScrollTrigger); const sections = document.querySelectorAll('.commercial-section'); if (sections.length < 2) return; const section1 = sections[0]; const section2 = sections[1]; const pinWrap = document.createElement('div'); pinWrap.className = 'pin-wrap'; section1.parentNode.insertBefore(pinWrap, section1); pinWrap.appendChild(section1); pinWrap.appendChild(section2); setTimeout(() => { ScrollTrigger.matchMedia({ "(min-width: 769px)": function () { gsap.set(section2, { y: '100%', opacity: 1, visibility: 'visible' }); gsap.set(section1.querySelector('.commercial-content'), { transition: 'none' }); gsap.set(section2.querySelector('.commercial-content'), { transition: 'none' }); const tl = gsap.timeline({ scrollTrigger: { trigger: pinWrap, start: "top top", end: "+=150%", pin: true, scrub: true, anticipatePin: 1 } }); tl.to(section1.querySelector('.commercial-content'), { y: '-100vh', ease: "none" }, 0) .to(section2, { y: '0%', ease: "none" }, 0); gsap.to(section1.querySelector('.commercial-image img'), { y: -18, scale: 1.04, ease: "none", scrollTrigger: { trigger: pinWrap, start: "top top", end: "+=100%", scrub: true } }); gsap.fromTo(section2.querySelector('.commercial-image img'), { y: 18, scale: 1.04 }, { y: -18, scale: 1.04, ease: "none", scrollTrigger: { trigger: pinWrap, start: "top top+=100%", end: "bottom bottom", scrub: true } } ); } }); });